(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(t){if(t.ep)return;t.ep=!0;const n=r(t);fetch(t.href,n)}})();const l=o=>{const e=document.querySelector(o);if(e)return e;throw new Error("Element not found")},d=l("#formulario"),p=l("#criptomonedas"),u=l("#moneda"),i=l("#resultado"),a={moneda:"",criptomonedas:""},m=o=>{o.Data.forEach(e=>{const{FullName:r,Name:s}=e.CoinInfo,t=document.createElement("option");t.value=s,t.textContent=r,p.appendChild(t)})},f=o=>{const e=o;a.moneda=e.target.value,console.log(a)},y=o=>{const e=o;a.criptomonedas=e.target.value,console.log(a)},h=async o=>{if(o.preventDefault(),!Object.values(a).every(e=>e!=="")){C("Todos los campos son obligatorios");return}await E()},v=o=>{g();const{CHANGE24HOUR:e,LOWDAY:r,PRICE:s,HIGHDAY:t}=o,n=document.createElement("p");n.classList.add("precio"),n.innerHTML=`
  El precio es : <span>${s}</span>
  `;const c=document.createElement("div");c.innerHTML=`
    <p>El precio mas alto del dia: <span>${t}</span></p>
    <p>El precio mas bajo del dia: <span>${r}</span></p>
    <p>Variacion entre las ultimas 24h: <span>${e}</span></p>
  `,i.appendChild(n),i.appendChild(c)},C=o=>{if(!document.querySelector(".error")){const e=document.createElement("div");e.classList.add("error"),e.textContent=o,d.appendChild(e),setTimeout(()=>{e.remove()},3e3)}};function g(){for(;i.firstChild;)i.removeChild(i.firstChild)}const L=async()=>{const o="https://min-api.cryptocompare.com/data/top/mktcapfull?limit=5&tsym=USD";try{const r=await(await fetch(o)).json();m(r)}catch(e){console.log(e)}},E=async()=>{const{criptomonedas:o,moneda:e}=a,r=`https://min-api.cryptocompare.com/data/pricemultifull?fsyms=${o}&tsyms=${e}`;try{const t=await(await fetch(r)).json();return v(t.DISPLAY[o][e])}catch(s){console.error(s)}};document.addEventListener("DOMContentLoaded",()=>{w(),u.addEventListener("change",f),p.addEventListener("change",y),d.addEventListener("submit",h)});async function w(){await L()}
